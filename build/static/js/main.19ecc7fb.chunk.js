(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{151:function(e,t,n){},153:function(e,t,n){},156:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var s,c=n(2),a=n(0),r=n.n(a),i=n(77),j=n.n(i),o=(n(93),n(7)),l=n(84),u=n(25),b=n.n(u),m=n(78),d=n.n(m),O=n(79),h=n.n(O),x=(n(151),n(178)),f=n(48),g=n.n(f),v=function(e){var t=e.message,n=t.text,s=t.user,a=t.date,r=e.name,i=r.trim().toLowerCase();return"system"===s?Object(c.jsx)("div",{className:"messageContainer systemMessage justifyCenter",children:Object(c.jsx)("p",{className:"messageText colorGrey justifyCenter",children:n})}):s===i?Object(c.jsxs)("div",{className:"messageContainer justifyEnd",children:[Object(c.jsx)("div",{className:"messageBody justifyEnd",children:Object(c.jsx)("div",{className:"messageBox backgroundBlue ",children:Object(c.jsx)("p",{className:"messageText  colorWhite",children:g.a.emojify(n)})})}),Object(c.jsx)("p",{className:"sentText justifyEnd ",children:a})]}):Object(c.jsxs)("div",{className:"messageContainer justifyStart",children:[Object(c.jsxs)("div",{className:"messageBody ",children:[Object(c.jsx)(x.a,{children:r[0]}),Object(c.jsx)("div",{className:"messageBox justifyStart backgroundLight",children:Object(c.jsx)("p",{className:"messageText colorDark",children:g.a.emojify(n)})})]}),Object(c.jsx)("p",{className:"sentText justifyStart ",children:a})]})},p=(n(153),function(e){var t=e.messages,n=e.name;return Object(c.jsx)(h.a,{className:"messages",children:t.map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsx)(v,{message:e,name:n})},t)}))})}),N=n(20),y=n(21),C=(n(156),function(e){var t=e.room,n=Object(a.useState)(!1),s=Object(o.a)(n,2),r=s[0],i=s[1];return Object(c.jsxs)("div",{className:"infoBar",children:[Object(c.jsx)("div",{className:"leftInnerContainer",children:Object(c.jsx)("h3",{children:t})}),Object(c.jsxs)("div",{className:"middleInnerContainer",children:[Object(c.jsxs)("button",{className:"shareButton",onClick:function(e){return function(e){e.preventDefault(),i(!r)}(e)},children:[" ",Object(c.jsx)(N.a,{icon:y.c,size:"lg"})," ",r?null:"Invite friends"]}),r?Object(c.jsx)("p",{id:"hrefholder",className:"hrefHolder",children:window.location.href.replace(/name=\w+&/,"").replace("/chat","/")}):null]}),Object(c.jsx)("div",{className:"rightInnerContainer",children:Object(c.jsxs)("a",{href:"/",className:"signOutButton",children:["Sign Out ",Object(c.jsx)(N.a,{icon:y.d,size:"lg"})]})})]})}),S=(n(157),function(e){var t=e.setMessage,n=e.sendMessage,s=e.message;return Object(c.jsxs)("form",{className:"form",children:[Object(c.jsx)("input",{className:"input",type:"text",placeholder:"Type a message...",value:s,onChange:function(e){var n=e.target.value;return t(n)},onKeyPress:function(e){return"Enter"===e.key?n(e):null}}),Object(c.jsx)("button",{className:"sendButton",onClick:function(e){return n(e)},children:Object(c.jsx)(N.a,{icon:y.b,size:"2x"})})]})}),k=(n(158),function(e){var t=e.users;return Object(c.jsx)("div",{className:"textContainer",children:t?Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Users online:"}),Object(c.jsx)("div",{className:"activeContainer",children:Object(c.jsx)("h2",{children:t.map((function(e){var t=e.fullName;return Object(c.jsxs)("div",{className:"activeItem",children:[Object(c.jsx)(x.a,{className:"avatar",children:t[0]}),t]},t)}))})})]}):null})}),B=n(175),I=n(176),w=n(177),E=n(83),T=n(4),M=(n(159),"https://skywaet-react-chat.herokuapp.com"),D=function(e){var t=e.location,n=Object(a.useState)(""),r=Object(o.a)(n,2),i=r[0],j=r[1],u=Object(a.useState)(""),m=Object(o.a)(u,2),O=m[0],h=m[1],x=Object(a.useState)(""),f=Object(o.a)(x,2),g=f[0],v=f[1],D=Object(a.useState)(""),L=Object(o.a)(D,2),F=L[0],P=L[1],W=Object(a.useState)([]),z=Object(o.a)(W,2),J=z[0],R=z[1],U=Object(a.useState)(!1),G=Object(o.a)(U,2),H=G[0],K=G[1];Object(a.useEffect)((function(){var e=b.a.parse(t.search),n=e.name,c=e.room;s=d()(M),h(c),j(n),s.emit("join",{name:n,room:c},(function(e){"Username is taken."===e&&K(!0)}))}),[M,t.search]),Object(a.useEffect)((function(){s.on("message",(function(e){console.log(e.date),R((function(t){return[].concat(Object(l.a)(t),[e])}))})),s.on("roomData",(function(e){var t=e.users;v(t)}))}),[]);return H?Object(c.jsx)(T.a,{to:"/join?name=".concat(i,"&room=").concat(O)}):Object(c.jsx)("div",{className:"outerContainer",children:Object(c.jsxs)(B.a,{xs:"12",children:[Object(c.jsx)(I.a,{className:"header",children:Object(c.jsx)(C,{room:O})}),Object(c.jsxs)(I.a,{className:"mainRow",children:[Object(c.jsxs)(w.a,{sm:"8",className:"container",children:[Object(c.jsx)(p,{messages:J,name:i}),Object(c.jsx)(S,{message:F,setMessage:P,sendMessage:function(e){e.preventDefault(),F&&s.emit("sendMessage",F,(function(){return P("")}))}})]}),Object(c.jsx)(w.a,{sm:"3",className:"usersList",children:Object(c.jsx)(k,{users:g})})]}),Object(c.jsxs)(I.a,{className:"footer",children:[Object(c.jsxs)("p",{children:[Object(c.jsx)(N.a,{icon:y.a})," 2021 SkyWaet "]}),Object(c.jsx)("p",{children:Object(c.jsxs)("a",{href:"https://github.com/SkyWaet/react-chat.git",className:"githubRef",children:[Object(c.jsx)(N.a,{icon:E.a})," SkyWaet"]})})]})]})})},L=n(29);n(161);function F(e){var t=e.location,n=Object(a.useState)(""),s=Object(o.a)(n,2),r=s[0],i=s[1],j=Object(a.useState)(""),l=Object(o.a)(j,2),u=l[0],m=l[1],d=Object(a.useState)(""),O=Object(o.a)(d,2),h=O[0],x=O[1];return Object(a.useEffect)((function(){var e=b.a.parse(t.search);e.name&&x(e.name),e.room&&m(e.room)}),[t.search]),Object(c.jsx)("div",{className:"joinOuterContainer",children:Object(c.jsxs)("div",{className:"joinInnerContainer",children:[Object(c.jsx)("h1",{className:"heading",children:"Join"}),Object(c.jsx)("div",{className:"error",children:""!==h?Object(c.jsxs)("p",{children:["Sorry, but the username ",h," is taken. Please, choose another one. "]}):null}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{placeholder:"Name",className:"joinInput",type:"text",onChange:function(e){return i(e.target.value)}})}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{placeholder:"Room",className:"joinInput mt-20",type:"text",value:u,onChange:function(e){return m(e.target.value)}})}),Object(c.jsx)(L.b,{id:"link",onClick:function(e){return r&&u?null:e.preventDefault()},to:"/chat?name=".concat(r,"&room=").concat(u),children:Object(c.jsx)("button",{className:"button mt-20",type:"submit",children:"Sign In"})})]})})}var P=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),i=Object(o.a)(r,2),j=i[0],l=i[1];return Object(a.useEffect)((function(){var e=b.a.parse(window.location.href),t=e.name,n=e.room;s(t),l(n)})),Object(c.jsxs)(L.a,{children:[Object(c.jsx)(T.b,{path:"/join?name=".concat(n,"&room=").concat(j),component:F}),Object(c.jsx)(T.b,{path:"/chat",component:D}),Object(c.jsx)(T.a,{to:"/join"})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,179)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),a(e),r(e)}))};j.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(P,{})}),document.getElementById("root")),W()},93:function(e,t,n){}},[[162,1,2]]]);
//# sourceMappingURL=main.19ecc7fb.chunk.js.map