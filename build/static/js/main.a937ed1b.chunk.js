(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{151:function(e,t,s){},153:function(e,t,s){},156:function(e,t,s){},157:function(e,t,s){},158:function(e,t,s){},159:function(e,t,s){},161:function(e,t,s){},162:function(e,t,s){"use strict";s.r(t);var n,c=s(2),a=s(0),r=s.n(a),i=s(77),j=s.n(i),o=(s(93),s(84)),l=s(8),u=s(35),b=s.n(u),m=s(78),d=s.n(m),h=s(79),O=s.n(h),x=(s(151),s(178)),f=s(48),g=s.n(f),v=function(e){var t=e.message,s=t.text,n=t.user,a=t.date,r=e.name,i=r.trim().toLowerCase();return"system"===n?Object(c.jsx)("div",{className:"messageContainer systemMessage justifyCenter",children:Object(c.jsx)("p",{className:"messageText colorGrey justifyCenter",children:s})}):n===i?Object(c.jsxs)("div",{className:"messageContainer justifyEnd",children:[Object(c.jsx)("div",{className:"messageBody justifyEnd",children:Object(c.jsx)("div",{className:"messageBox backgroundBlue ",children:Object(c.jsx)("p",{className:"messageText  colorWhite",children:g.a.emojify(s)})})}),Object(c.jsx)("p",{className:"sentText justifyEnd ",children:a})]}):Object(c.jsxs)("div",{className:"messageContainer justifyStart",children:[Object(c.jsxs)("div",{className:"messageBody ",children:[Object(c.jsx)(x.a,{children:r[0]}),Object(c.jsx)("div",{className:"messageBox justifyStart backgroundLight",children:Object(c.jsx)("p",{className:"messageText colorDark",children:g.a.emojify(s)})})]}),Object(c.jsx)("p",{className:"sentText justifyStart ",children:a})]})},p=(s(153),function(e){var t=e.messages,s=e.name;return Object(c.jsx)(O.a,{className:"messages",children:t.map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsx)(v,{message:e,name:s})},t)}))})}),N=s(20),y=s(21),C=(s(156),function(e){var t=e.room,s=Object(a.useState)(!1),n=Object(l.a)(s,2),r=n[0],i=n[1];return Object(c.jsxs)("div",{className:"infoBar",children:[Object(c.jsx)("div",{className:"leftInnerContainer",children:Object(c.jsx)("h3",{children:t})}),Object(c.jsxs)("div",{className:"middleInnerContainer",children:[Object(c.jsxs)("button",{className:"shareButton",onClick:function(e){return function(e){e.preventDefault(),i(!r)}(e)},children:[" ",Object(c.jsx)(N.a,{icon:y.c,size:"lg"})," ",r?null:"Invite friends"]}),r?Object(c.jsx)("p",{id:"hrefholder",className:"hrefHolder",children:window.location.href.replace(/name=\w+&/,"").replace("/chat","/")}):null]}),Object(c.jsx)("div",{className:"rightInnerContainer",children:Object(c.jsxs)("a",{href:"/",className:"signOutButton",children:["Sign Out ",Object(c.jsx)(N.a,{icon:y.d,size:"lg"})]})})]})}),S=(s(157),function(e){var t=e.setMessage,s=e.sendMessage,n=e.message;return Object(c.jsxs)("form",{className:"form",children:[Object(c.jsx)("input",{className:"input",type:"text",placeholder:"Type a message...",value:n,onChange:function(e){var s=e.target.value;return t(s)},onKeyPress:function(e){return"Enter"===e.key?s(e):null}}),Object(c.jsx)("button",{className:"sendButton",onClick:function(e){return s(e)},children:Object(c.jsx)(N.a,{icon:y.b,size:"2x"})})]})}),k=(s(158),function(e){var t=e.users;return Object(c.jsx)("div",{className:"textContainer",children:t?Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Users online:"}),Object(c.jsx)("div",{className:"activeContainer",children:Object(c.jsx)("h2",{children:t.map((function(e){var t=e.fullName;return Object(c.jsxs)("div",{className:"activeItem",children:[Object(c.jsx)(x.a,{className:"avatar",children:t[0]}),t]},t)}))})})]}):null})}),B=s(175),I=s(176),w=s(177),E=s(83),T=s(4),M=(s(159),"https://skywaet-react-chat.herokuapp.com"),D=function(e){var t=e.location,s=Object(a.useState)(""),r=Object(l.a)(s,2),i=r[0],j=r[1],u=Object(a.useState)(""),m=Object(l.a)(u,2),h=m[0],O=m[1],x=Object(a.useState)(""),f=Object(l.a)(x,2),g=f[0],v=f[1],D=Object(a.useState)(""),L=Object(l.a)(D,2),F=L[0],P=L[1],W=Object(a.useState)([]),z=Object(l.a)(W,2),J=z[0],R=z[1],U=Object(a.useState)(!1),G=Object(l.a)(U,2),H=G[0],K=G[1];Object(a.useEffect)((function(){var e=b.a.parse(t.search),s=e.name,c=e.room;n=d()(M),O(c),j(s),n.emit("join",{name:s,room:c},(function(e){"Username is taken."===e&&K(!0)}))}),[M,t.search]),Object(a.useEffect)((function(){n.on("message",(function(e){console.log(e.date),R((function(t){return[].concat(Object(o.a)(t),[e])}))})),n.on("roomData",(function(e){var t=e.users;v(t)}))}),[]);return H?Object(c.jsx)(T.a,{to:"/join?name=".concat(i,"&room=").concat(h)}):Object(c.jsx)("div",{className:"outerContainer",children:Object(c.jsxs)(B.a,{xs:"12",children:[Object(c.jsx)(I.a,{className:"header",children:Object(c.jsx)(C,{room:h})}),Object(c.jsxs)(I.a,{className:"mainRow",children:[Object(c.jsxs)(w.a,{sm:"8",className:"container",children:[Object(c.jsx)(p,{messages:J,name:i}),Object(c.jsx)(S,{message:F,setMessage:P,sendMessage:function(e){e.preventDefault(),F&&n.emit("sendMessage",F,(function(){return P("")}))}})]}),Object(c.jsx)(w.a,{sm:"3",className:"usersList",children:Object(c.jsx)(k,{users:g})})]}),Object(c.jsxs)(I.a,{className:"footer",children:[Object(c.jsxs)("p",{children:[Object(c.jsx)(N.a,{icon:y.a})," 2021 SkyWaet "]}),Object(c.jsx)("p",{children:Object(c.jsxs)("a",{href:"https://github.com/SkyWaet/react-chat.git",className:"githubRef",children:[Object(c.jsx)(N.a,{icon:E.a})," SkyWaet"]})})]})]})})},L=s(28);s(161);function F(e){var t=e.location,s=Object(a.useState)(""),n=Object(l.a)(s,2),r=n[0],i=n[1],j=Object(a.useState)(""),o=Object(l.a)(j,2),u=o[0],m=o[1],d=Object(a.useState)(""),h=Object(l.a)(d,2),O=h[0],x=h[1];return Object(a.useEffect)((function(){var e=b.a.parse(t.search);e.name&&x(e.name),e.room&&m(e.room)}),[t.search]),Object(c.jsx)("div",{className:"joinOuterContainer",children:Object(c.jsxs)("div",{className:"joinInnerContainer",children:[Object(c.jsx)("h1",{className:"heading",children:"Join"}),Object(c.jsx)("div",{className:"error",children:""!==O?Object(c.jsxs)("p",{children:["Sorry, but the username ",O," is taken. Please, choose another one. "]}):null}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{placeholder:"Name",className:"joinInput",type:"text",onChange:function(e){return i(e.target.value)}})}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{placeholder:"Room",className:"joinInput mt-20",type:"text",value:u,onChange:function(e){return m(e.target.value)}})}),Object(c.jsx)(L.b,{id:"link",onClick:function(e){return r&&u?null:e.preventDefault()},to:"/chat?name=".concat(r,"&room=").concat(u),children:Object(c.jsx)("button",{className:"button mt-20",type:"submit",children:"Sign In"})})]})})}var P=function(){return Object(c.jsxs)(L.a,{children:[Object(c.jsx)(T.b,{path:"/join",component:F}),Object(c.jsx)(T.b,{path:"/chat",component:D}),Object(c.jsx)(T.a,{to:"/join"})]})},W=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,179)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))};j.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(P,{})}),document.getElementById("root")),W()},93:function(e,t,s){}},[[162,1,2]]]);
//# sourceMappingURL=main.a937ed1b.chunk.js.map